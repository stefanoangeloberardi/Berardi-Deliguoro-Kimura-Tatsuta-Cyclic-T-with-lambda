%!TEX root = CLam-2col-main.tex
\section{Infinite $\lambda$-terms}\label{sec:infinite-terms}

Let $\Pos = \set{1, 2}^*$ be the set of {\em positions}; 
we denote by $\epsilon$ the empty string in $\Pos$ 
and by $\sigma\cdot\tau$ (or just $\sigma\tau$) the concatenation of $\sigma$ with
$\tau$; concatenation is associative with  $\epsilon$ as unit. We say that $\sigma$ is a {\em perfix} of $\tau$,
written $\sigma \leq \tau$, if $\tau = \sigma \tau'$ for some 
$\tau' \in \Pos$; it is a {\em strict prefix}, written $\sigma < \tau$
if $\tau' \neq \epsilon$.

A {\em binary tree} $T$ is a prefix-closed subset of the set
$\Pos$. The position $\epsilon$ is the {\em root} of $T$; 
for $i = 1,2$, the position $\sigma i$ is an {\em immediate descendant} of $\sigma$;
$\sigma \in T$ is a {\em leaf} if it has no immediate descendant in $T$. 
If $\sigma \in T$ then the {\em subtree of $T$ rooted at $\sigma$} is the set 
$\SubTree{T}{\sigma} = \set{\tau \mid \sigma \tau \in T}$, which is
a binary tree.

A {\em $2$-ranked alphabet}
$\Sigma$ is a set of symbols together with a map $\rank:\Sigma \to \nat$
such that $\rank(\sigma) \leq 2$ for all $\sigma \in \Sigma$; a {\em binary tree labelled over
the $2$-ranked alphabet} $\Sigma$ is a pair $\BTree = (T, \phi)$, where $T$ is a binary tree, 
also denoted by $|\BTree|$  and called the {\em carrier} of $\BTree$, and
$\LabelFun : T \to \Sigma$ is a mapping labelling the positions of $T$ to symbols in $\Sigma$, 
which is consistent with their ranks,
namely $\rank(\LabelFun(\sigma)) = |\set{\sigma i \mid \sigma i \in T}|$.

The {\em subtree of $\BTree = (T, \LabelFun)$ rooted at $\sigma \in T$} is the tree 
$\SubTree{\BTree}{\sigma} = (\SubTree{T}{\sigma}, \SubTree{\LabelFun}{\sigma})$
where $(\SubTree{\LabelFun}{\sigma}) (\tau) = \LabelFun(\sigma \tau)$ for all
$\tau \in \SubTree{T}{\sigma}$; clearly $\SubTree{\BTree}{\epsilon} = \BTree$.
The tree $\BTree = (T, \LabelFun)$ is {\em regular}
if the set $\set{\SubTree{\BTree}{\sigma} \mid \sigma \in |\BTree|}$ is finite.

\medskip
\begin{definition}[Types and Pre-terms]\label{def:pre-terms}
Let $\Type$ be the least
set such that $N \in \Type$ and $(A \to B) \in \Type$ if $A,B \in \Type$.
Define the $2$-ranked alphabet $\SigmaTerm$ by
\[\SigmaTerm = \set{}\]
with 
\end{definition}